<div class="w-75 m-auto">
    <h2 class="text-center my-3">All Subcategories</h2>
    <hr class="my-3" />
    <div class="d-flex justify-content-between">
        <a class="btn btn-dark" routerLink="create">Create Subcategory</a>
        <input (change)="searchData(searchWord.value)" #searchWord type="search" placeholder="Search" class="form-control w-25 me-2" aria-label="Search" />
    </div>
    <hr class="my-3" />
    <table class="w-100">
        <thead>
            <tr class="border-bottom">
                <th class="p-3">#</th>
                <th class="p-3">ID</th>
                <th class="p-3">Subcategory Name</th>
                <th class="p-3">Category</th>
            </tr>
        </thead>
        <tbody>
            @for (subcategory of subcategories; track subcategory._id) {
            <tr class="border-bottom m-5">
                <td>{{ $index + 1 }}</td>
                <td class="text-secondary p-3">....{{ subcategory?._id | slice : -4 }}</td>
                <td class="p-3">{{ subcategory?.name }}</td>
                <td class="p-3">{{ subcategory?.category?.name }}</td>
                <td class="p-3 text-end">
                    <a [routerLink]="['/subcategories', subcategory._id, 'update']" class="btn btn-secondary rounded-3 m-3">Update</a>
                    <button class="btn btn-danger rounded-3 m-3" (click)="deleteSubcategory(subcategory._id)">Delete</button>
                </td>
            </tr>
            }
        </tbody>
    </table>
</div>
<div class="d-flex justify-content-center mt-5">
    <ul class="pagination">
        @if(pagination.prev){
        <li (click)="changePage(pagination.prev)" class="page-item"><button class="page-link">Previous</button></li>
        } @if(pagination.currentPage!==1) {
        <li (click)="changePage(1)" class="page-item"><button class="page-link">1</button></li>
        }
        <li class="page-item m">
            <button class="page-link">{{ pagination.currentPage }}</button>
        </li>
        @if(pagination.currentPage!==pagination.totalPages) {
        <li (click)="changePage(pagination.totalPages!)" class="page-item">
            <button class="page-link">{{ pagination.totalPages }}</button>
        </li>
        } @if(pagination.next){
        <li (click)="changePage(pagination.next)" class="page-item"><button class="page-link">Next</button></li>
        }
    </ul>
</div>
