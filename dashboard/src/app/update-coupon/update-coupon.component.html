<br /><br /><br />
<div class="w-50 m-auto mt-5 shadow p-4">
    <h1 class="text-center">update "{{ coupon?.name | uppercase }}" coupon</h1>
    <form [formGroup]="couponForm" (ngSubmit)="updateCoupon(coupon?._id, couponForm)">
        <div class="p-3">
            <input formControlName="name" class="form-control" type="name" [value]="coupon?.name" placeholder="coupon name" />
            @if(couponForm.get('name')?.errors!==null&&couponForm.get('name')?.touched){
            <div class="p-0 mt-3">
                @if(couponForm.get('name')?.errors?.['required']){
                <p class="text-danger">coupon name Required</p>
                }
            </div>
            }
        </div>
        <div class="p-3">
            <input formControlName="discount" class="form-control" type="number" [value]="coupon?.discount" placeholder="discount" />
            @if(couponForm.get('discount')?.errors!==null&&couponForm.get('discount')?.touched){
            <div class="p-0 mt-3">
                @if(couponForm.get('discount')?.errors?.['required']){
                <p class="text-danger">coupon discount Required</p>
                }@else {
                <p class="text-danger">discount must be between 1 and 99</p>
                }
            </div>
            }
        </div>
        <div class="p-3">
            <input formControlName="expireTime" class="form-control" type="date" [value]="coupon?.expireTime | date : 'yyyy-MM-dd'" placeholder="Expire Time" />
            @if(couponForm.get('expireTime')?.errors!==null&&couponForm.get('expireTime')?.touched){
            <div class="p-0 mt-3">
                @if(couponForm.get('expireTime')?.errors?.['required']){
                <p class="text-danger">coupon expire Time Required</p>
                }
            </div>
            } @if(couponError!==''){
            <div class="text-danger mt-3">
                <p>{{ couponError }}</p>
            </div>
            }
        </div>
        <div class="mt-3 text-end">
            <button [disabled]="couponForm.invalid" class="btn btn-secondary mx-3">Update</button>
            <a routerLink="/coupons" class="btn btn-danger">Cancel</a>
        </div>
    </form>
</div>
<br /><br /><br />
